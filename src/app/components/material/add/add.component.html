<!-- Created By : Vipin Yadav  -->

<div class="w3-container" *ngIf="materialAddForm">
	<form class="w3-container" [formGroup]="materialAddForm" (ngSubmit)="addORUpdate()">
		<div class="w3-panel w3-round-small w3-teal">
			<h3>
				<span *ngIf="index === undefined">Add Material</span><span *ngIf="index != undefined">Material
					Update</span>
				<a routerLink="/" class="w3-button w3-green custom-button"><i class="w3-medium fa fa-chevron-left"></i>
					Back</a>
			</h3>
		</div>

		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-calendar"></i><b>Date</b></label>
		<input class="w3-input w3-border" type="date" formControlName="date" />
		<div class="w3-panel w3-red" *ngIf="
        materialAddForm.controls.date.invalid &&
        (materialAddForm.controls.date.dirty ||
          materialAddForm.controls.date.touched)
      	">
			Please enter Valide date.
		</div>

		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-cart-arrow-down"></i><b>Materials</b></label>
		<button type="button" class="w3-btn w3-blue custom-button" (click)="cloneForm()">
			<i class="w3-medium  fa fa-plus"></i> Add
		</button>
		<div class="w3-row materials" formArrayName="materials"
			*ngFor="let mtlform of materialAddForm.get('materials').controls; let i = index;">
			<div [formGroupName]="i">
				<input class="w3-input w3-col formargin m5 w3-border" type="text" placeholder="Enter Material Name..."
					formControlName="materialName" />

				<input class="w3-input w3-col m5 w3-border" type="number" (keyup)="getTotalPrice()"
					placeholder="Enter Material Price..." formControlName="price" />
				<button type="button" class="w3-btn w3-red custom-button" (click)="removeCloneForm(i)">
					<i class="w3-medium  fa fa-trash"></i>
					Remove
				</button>
			</div>
		</div>
		<label class="w3-text-blue"><i class="w3-medium custom-icon fa fa-inr"></i><b> Total Price</b></label>
		<input class="w3-input w3-border" type="text" maxlength="4" minlength="1" disabled
			formControlName="totalPrice" />
		<br />
		<button class="w3-btn w3-blue" type="submit" [disabled]="!materialAddForm.valid">
			<span *ngIf="index === undefined">Add</span><span *ngIf="index != undefined">Update</span>
			<i class="w3-medium fa fa-check"></i>
		</button>
	</form>
</div>

<!-- Created By : Vipin Yadav  -->